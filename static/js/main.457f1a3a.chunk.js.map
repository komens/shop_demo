{"version":3,"sources":["assets/images/logo.png","utils/uniqueKey.js","utils/filterDate.js","utils/saveData.js","store/cartStore.js","mock/index.js","components/header/index.jsx","components/product/productWrap.jsx","components/product/index.jsx","components/title/index.jsx","views/commodity/index.js","components/orderList/tableHeader.jsx","components/orderList/tableFooter.jsx","components/orderList/orderTable.jsx","components/orderList/index.jsx","views/order/index.js","components/cartProduct/index.jsx","views/shoppingCart/index.js","App.js","serviceWorker.js","store/index.js","index.js"],"names":["module","exports","uniqueKey","num","x","res","i","charAt","Math","floor","random","length","Date","valueOf","toString","filterDate","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getData","name","storeName","getSaveName","data","localStorage","getItem","JSON","parse","e","saveData","setItem","stringify","key","initState","tabIndex","cartProducts","selectedProducts","historyOrder","products","id","index","image","price","desc","searchProducts","cartHasIndex","cartReducer","state","count","type","other","hasIndex","indexOf","newCartProducts","product","splice","concat","push","Object","assign","newSelectedProducts","forEach","item","selectArr","productsList","amount","allCount","order","newHistoryOrder","unshift","includes","searchRes","notification","warn","message","description","duration","Header","handleSearch","className","href","src","logo","alt","theme","mode","defaultSelectedKeys","selectedKeys","Item","to","Search","placeholder","onSearch","compose","connect","store","cart","withRouter","withHandlers","history","value","herf","location","pathname","title","useEffect","document","Meta","withState","handleCartClick","props","onClick","success","hoverable","cover","actions","min","defaultValue","style","width","onChange","changeCount","shape","icon","addProduct","newProducts","self","map","xs","sm","md","lg","Title","color","borderBottom","fontSize","margin","paddingBottom","textAlign","children","Commodity","TableHeader","TableFooter","columns","dataIndex","align","render","dangerouslySetInnerHTML","__html","OrderList","dataSource","bordereds","pagination","hideOnSinglePage","footer","orderList","NumberInput","cartIndex","DeleteButton","Text","countChange","handleCountChange","deleteProduct","handleDelete","okText","cancelText","onConfirm","selectProduct","settleAccounts","number","delete","rowSelection","hideDefaultSelections","selectedRowKeys","selectedRows","handleSettleClick","setIsSettle","open","onClose","error","isSettle","wrapperClassName","spinning","tip","locale","emptyText","level","loading","ShoppingCart","App","path","component","Order","Boolean","window","hostname","match","reducers","combineReducers","cartStore","createStore","applyMiddleware","thunk","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.457f1a3a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.dc7ad8ec.png\";","/*\r\n    取唯一值\r\n */\r\nexport const uniqueKey = num => {\r\n  // 先取num位随机字符\r\n  var x = \"0123456789qwertyuioplkjhgfdsazxcvbnm\";\r\n  var res = \"\";\r\n  for (var i = 0; i < num; i++) {\r\n    res += x.charAt(Math.floor(Math.random() * x.length));\r\n  }\r\n  // 再根据时间得到唯一Key\r\n  let date = new Date();\r\n  res += date.valueOf().toString(16);\r\n  return res;\r\n};\r\n","/*\r\n    时间格式化\r\n*/\r\nexport const filterDate = date => {\r\n  return `${date.getFullYear()}年${date.getMonth() +\r\n    1}月${date.getDate()}日${date.getHours()}时${date.getMinutes()}分${date.getSeconds()}秒`;\r\n};\r\n","// export const saveCartProducts =  (data) => {\r\n//     localStorage.setItem(\"cart_products\",JSON.stringify(data));\r\n// }\r\n\r\n// export const saveOrderList = (data) => {\r\n//     localStorage.setItem(\"order_list\",JSON.stringify(data));\r\n// }\r\n\r\n/*\r\n  cart 为购物车的数据\r\n  order 为订单数据\r\n*/\r\n\r\n/*\r\n  获得本地数据\r\n*/\r\nexport const getData = name => {\r\n  let storeName = getSaveName(name);\r\n  const data = storeName ? localStorage.getItem(storeName) : null;\r\n  let res = null;\r\n  try {\r\n    res = JSON.parse(data);\r\n  } catch (e) {\r\n    res = data;\r\n  }\r\n  return res;\r\n};\r\n\r\n/*\r\n  保存数据到本地\r\n*/\r\nexport const saveData = (name, data) => {\r\n  let storeName = getSaveName(name);\r\n  localStorage.setItem(storeName, JSON.stringify(data));\r\n};\r\n\r\n/*\r\n  删除本地数据\r\n*/\r\nexport const removeData = name => {\r\n  let storeName = getSaveName(name);\r\n  localStorage.removeItem(storeName);\r\n};\r\n\r\n// 得到正确的存储数据名\r\nfunction getSaveName(key) {\r\n  let storeName = null;\r\n  switch (key) {\r\n    case \"cart\":\r\n      storeName = \"cart_products\";\r\n      break;\r\n    case \"order\":\r\n      storeName = \"order_list\";\r\n      break;\r\n    default:\r\n      return false;\r\n  }\r\n  return storeName;\r\n}\r\n","import { products } from \"../mock\";\r\nimport { uniqueKey } from \"../utils/uniqueKey\";\r\nimport { filterDate } from \"../utils/filterDate\";\r\nimport { getData, saveData } from \"../utils/saveData\";\r\nimport { notification } from \"antd\";\r\n\r\nconst initState = {\r\n  tabIndex: \"1\", // 存放当前导航\r\n  cartProducts: getData(\"cart\") || [], //存放购物车的数据 (id,index,count)\r\n  selectedProducts: [], // 存放选中的商品\r\n  historyOrder: getData(\"order\") || [], // 存放历史订单 (id,index,count)\r\n  products: products, // 总商品数据\r\n  searchProducts: [] //存放搜索商品的结果\r\n};\r\n\r\n// 标记数组，存储当前购物车商品的索引集合\r\nconst cartHasIndex = [];\r\n\r\nconst ADD_PRODUCT = \"ADD_PRODUCT\"; // 添加商品\r\nconst PRODUCT_COUNT_CHANGE = \"PRODUCT_COUNT_CHANGE\"; // 改变商品数量\r\nconst DELET_PRODUCT = \"DELET_PRODUCT\"; // 删除商品\r\nconst SELECT_PRODUCT = \"SELECT_PRODUCT\"; // 勾选商品\r\nconst SETTLE_ACCOUNTS = \"SETTLE_ACCOUNTS\"; // 结算\r\nconst SEARCH_PRODUCTS = \"SEARCH_PRODUCTS\"; // 搜索商品\r\n\r\n// 添加商品\r\nexport const addProduct = (index, count) => {\r\n  return {\r\n    type: ADD_PRODUCT,\r\n    index,\r\n    count\r\n  };\r\n};\r\n\r\n// 改变数量\r\nexport const countChange = (index, count) => {\r\n  return {\r\n    type: PRODUCT_COUNT_CHANGE,\r\n    index,\r\n    count\r\n  };\r\n};\r\n\r\n// 删除商品\r\nexport const deleteProduct = index => {\r\n  return {\r\n    type: DELET_PRODUCT,\r\n    index\r\n  };\r\n};\r\n\r\n// 勾选商品\r\nexport const selectProduct = selectArr => {\r\n  // console.log(selectArr)\r\n  return {\r\n    type: SELECT_PRODUCT,\r\n    selectArr\r\n  };\r\n};\r\n\r\n// 结算商品\r\nexport const settleAccounts = price => {\r\n  return {\r\n    type: SETTLE_ACCOUNTS,\r\n    count: price\r\n  };\r\n};\r\n\r\n// 搜索商品\r\nexport const searchProducts = name => {\r\n  return {\r\n    type: SEARCH_PRODUCTS,\r\n    name\r\n  };\r\n};\r\n\r\nconst cartReducer = (state = initState, { index, count, type, ...other }) => {\r\n  const { cartProducts, products, selectedProducts, historyOrder } = state;\r\n  switch (type) {\r\n    /*\r\n           添加商品到购物车\r\n        */\r\n    case ADD_PRODUCT: {\r\n      const hasIndex = cartHasIndex.indexOf(index); //判断购物车中是否含有该商品\r\n      let newCartProducts = [];\r\n      if (hasIndex > -1) {\r\n        //如果有则在原有基础上加新增数量\r\n        const product = { ...cartProducts[hasIndex] };\r\n        product.count += count;\r\n        newCartProducts = [...cartProducts];\r\n        newCartProducts.splice(hasIndex, 1, product); //将对于位置的商品信息替换为新的\r\n      } else {\r\n        // 如果没有，则直接插入\r\n        newCartProducts = [].concat(cartProducts, {\r\n          id: products[index].id,\r\n          index,\r\n          count\r\n        });\r\n        cartHasIndex.push(index); //更新标记数组\r\n      }\r\n      saveData(\"cart\", newCartProducts);\r\n      return {\r\n        ...state,\r\n        cartProducts: newCartProducts,\r\n        selectedProducts: [] // 添加新商品后清空选择列表\r\n      };\r\n    }\r\n    /*\r\n            改变商品数量\r\n        */\r\n    case PRODUCT_COUNT_CHANGE: {\r\n      const product = Object.assign({}, cartProducts[index]);\r\n      product.count = count;\r\n      const newCartProducts = [].concat(cartProducts);\r\n      newCartProducts.splice(index, 1, product);\r\n      saveData(\"cart\", newCartProducts);\r\n      return {\r\n        ...state,\r\n        cartProducts: newCartProducts\r\n      };\r\n    }\r\n    /*\r\n            从购物车删除一个商品\r\n        */\r\n    case DELET_PRODUCT: {\r\n      const newCartProducts = [...cartProducts];\r\n      newCartProducts.splice(index, 1);\r\n      saveData(\"cart\", newCartProducts);\r\n      // 声明一个新数组用于存储 删除商品后 与购物车商品索引做对应\r\n      let newSelectedProducts = [];\r\n      selectedProducts.forEach(item => {\r\n        if (item < index) {\r\n          // 如果删除的索引大于当前索引，则不变\r\n          newSelectedProducts.push(item);\r\n        } else if (item > index) {\r\n          // 如果索引大于删除的索引则 勾选索引需要减一\r\n          newSelectedProducts.push(item - 1);\r\n        }\r\n      });\r\n      // 删除商品后需要重新计算标记数组\r\n      const hasIndex = cartHasIndex.indexOf(index);\r\n      cartHasIndex.splice(hasIndex, 1);\r\n      return {\r\n        ...state,\r\n        cartProducts: newCartProducts,\r\n        selectedProducts: newSelectedProducts // 更新选中商品索引\r\n      };\r\n    }\r\n    /*\r\n            勾选商品\r\n        */\r\n    case SELECT_PRODUCT: {\r\n      const selectedProducts = [].concat(other.selectArr);\r\n      return {\r\n        ...state,\r\n        selectedProducts\r\n      };\r\n    }\r\n    /*\r\n             结算商品\r\n        */\r\n    case SETTLE_ACCOUNTS: {\r\n      // 创建历史订单\r\n      const productsList = [];\r\n      selectedProducts.forEach(item => {\r\n        const index = cartProducts[item].index;\r\n        const product = products[index];\r\n        productsList.push({\r\n          key: cartProducts[item].id, //商品id\r\n          product: { image: product.image, name: product.name }, //商品图片和名字\r\n          amount: cartProducts[item].count, // 商品数量\r\n          price: product.price, // 商品价格\r\n          allCount: product.price * cartProducts[item].count, // 该商品总价\r\n          desc: product.desc // 商品描述\r\n        });\r\n      });\r\n      //  配置订单数据\r\n      const key = uniqueKey(5);\r\n      const order = {\r\n        id: key,\r\n        date: filterDate(new Date()),\r\n        productsList,\r\n        count\r\n      };\r\n      const newHistoryOrder = [].concat(historyOrder);\r\n      newHistoryOrder.unshift(order);\r\n      // 清空已经选择的数据\r\n      const newSelectedProducts = [];\r\n\r\n      // 删除购物车中已经购买的商品\r\n      const newCartProducts = [];\r\n      cartHasIndex.splice(0);\r\n      cartProducts.forEach((item, index) => {\r\n        if (!selectedProducts.includes(index)) {\r\n          newCartProducts.push(item);\r\n          cartHasIndex.push(index);\r\n        }\r\n      });\r\n      saveData(\"order\", newHistoryOrder);\r\n      saveData(\"cart\", newCartProducts);\r\n\r\n      return {\r\n        ...state,\r\n        historyOrder: newHistoryOrder,\r\n        cartProducts: newCartProducts,\r\n        selectedProducts: newSelectedProducts\r\n      };\r\n    }\r\n    case SEARCH_PRODUCTS: {\r\n      const searchRes = [];\r\n      const name = other.name;\r\n      // 遍历商品数组，如果有名字相同的则，加入搜索数组\r\n      if (name) {\r\n        products.forEach(product => {\r\n          if (product.name.includes(name) || name.includes(product.name)) {\r\n            searchRes.push(product);\r\n          }\r\n        });\r\n\r\n        searchRes.length > 0 ||\r\n          notification.warn({\r\n            message: \"警告！\",\r\n            description: \"搜索结果为空，不予展示！\",\r\n            duration: 1\r\n          });\r\n      }\r\n      return {\r\n        ...state,\r\n        searchProducts: searchRes\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default cartReducer;\r\n","export const products = [\r\n  // 存放商品数据\r\n  {\r\n    id: \"s0001\",\r\n    index: 0, //由于设计时 商品是用索引作为标识的，搜索时索引与商品不符合，特添加唯一索引\r\n    name: \"铁剑\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1111.jpg\",\r\n    price: 250,\r\n    desc: \"+20物理攻击\"\r\n  },\r\n  {\r\n    id: \"s0002\",\r\n    index: 1,\r\n    name: \"匕首\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1112.jpg\",\r\n    price: 290,\r\n    desc: \"+10%攻击速度\"\r\n  },\r\n  {\r\n    id: \"s0003\",\r\n    index: 2,\r\n    name: \"搏击拳套\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1113.jpg\",\r\n    price: 320,\r\n    desc: \"+8%暴击\"\r\n  },\r\n  {\r\n    id: \"s0004\",\r\n    index: 3,\r\n    name: \"吸血之镰\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1114.jpg\",\r\n    price: 410,\r\n    desc: \"+10%物理攻击<br>+8%物理吸血\"\r\n  },\r\n  {\r\n    id: \"s0005\",\r\n    index: 4,\r\n    name: \"雷鸣刃\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1116.jpg\",\r\n    price: 450,\r\n    desc: \"+40物理攻击\"\r\n  },\r\n  {\r\n    id: \"s0006\",\r\n    index: 5,\r\n    name: \"冲能拳套\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1117.jpg\",\r\n    price: 550,\r\n    desc: \"+15%暴击率\"\r\n  },\r\n  {\r\n    id: \"s0007\",\r\n    index: 6,\r\n    name: \"风暴巨剑\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1121.jpg\",\r\n    price: 910,\r\n    desc: \"+80物理攻击\"\r\n  },\r\n  {\r\n    id: \"s0008\",\r\n    index: 7,\r\n    name: \"日冕\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1122.jpg\",\r\n    price: 790,\r\n    desc: \"+40物理攻击<br>+300最大生命\"\r\n  },\r\n  {\r\n    id: \"s0009\",\r\n    index: 8,\r\n    name: \"狂暴双刃\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1123.jpg\",\r\n    price: 890,\r\n    desc: \"+15%攻击速度<br>+10%暴击率<br>+5%移速\"\r\n  },\r\n  {\r\n    id: \"s0010\",\r\n    index: 9,\r\n    name: \"陨星\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1124.jpg\",\r\n    price: 1080,\r\n    desc: \"+45物理攻击<br>+10%冷却缩减\"\r\n  },\r\n  {\r\n    id: \"s0011\",\r\n    index: 10,\r\n    name: \"碎星锤\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1131.jpg\",\r\n    price: 2100,\r\n    desc: \"+80物理攻击<br>+10%冷却缩减\"\r\n  },\r\n  {\r\n    id: \"s0012\",\r\n    index: 11,\r\n    name: \"末世\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1126.jpg\",\r\n    price: 2160,\r\n    desc: \"+60物理攻击<br>+30%攻击速度<br>+10%物理吸血\"\r\n  },\r\n  {\r\n    id: \"s0013\",\r\n    index: 12,\r\n    name: \"名刀·司命\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1127.jpg\",\r\n    price: 1900,\r\n    desc: \"+60物理攻击<br>+5%冷却缩减\"\r\n  },\r\n  {\r\n    id: \"s0014\",\r\n    index: 13,\r\n    name: \"冰霜长矛\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1128.jpg\",\r\n    price: 1980,\r\n    desc: \"+80物理攻击<br>+600最大生命<br>+15%攻击速度\"\r\n  },\r\n  {\r\n    id: \"s00015\",\r\n    index: 14,\r\n    name: \"速击之枪\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/1129.jpg\",\r\n    price: 890,\r\n    desc: \"+25%攻击速度\"\r\n  },\r\n  {\r\n    id: \"s0016\",\r\n    index: 15,\r\n    name: \"制裁之刃\",\r\n    image: \"//game.gtimg.cn/images/yxzj/img201606/itemimg/11210.jpg\",\r\n    price: 1800,\r\n    desc: \"+100物理攻击<br>+10%物理吸血\"\r\n  }\r\n];\r\n","import React, { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose, withHandlers } from \"recompose\";\r\nimport { Layout, Menu, Input, notification } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { searchProducts } from \"../../store/cartStore\";\r\n\r\nimport \"../../assets/styles/header.css\";\r\nimport logo from \"../../assets/images/logo.png\";\r\n\r\nconst Header = ({ tabIndex, handleSearch }) => {\r\n  return (\r\n    <Layout.Header className=\"header\">\r\n      <a href=\"/\" className=\"logo\">\r\n        <img src={logo} alt=\"\" />\r\n      </a>\r\n      <Menu\r\n        theme=\"dark\"\r\n        mode=\"horizontal\"\r\n        defaultSelectedKeys={\"1\"}\r\n        className=\"menu-wrapper\"\r\n        selectedKeys={tabIndex}\r\n      >\r\n        <Menu.Item key={\"1\"}>\r\n          <Link to=\"/\">商品浏览</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"2\">\r\n          <Link to=\"/cart\">购物车</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"3\">\r\n          <Link to=\"/order\">我的订单</Link>\r\n        </Menu.Item>\r\n      </Menu>\r\n      <Input.Search\r\n        placeholder=\"请输入商品名\"\r\n        onSearch={handleSearch}\r\n        className=\"search\"\r\n      />\r\n    </Layout.Header>\r\n  );\r\n};\r\n\r\nconst LinkHeader = ({ location, tabIndex, handleSearch }) => {\r\n  let index = \"1\";\r\n  let title = \"商品浏览\";\r\n  switch (location.pathname) {\r\n    case \"/\":\r\n      index = \"1\";\r\n      title = \"商品浏览\";\r\n      break;\r\n    case \"/cart\":\r\n      index = \"2\";\r\n      title = \"我的购物车\";\r\n      break;\r\n    case \"/order\":\r\n      index = \"3\";\r\n      title = \"我的订单\";\r\n      break;\r\n    default:\r\n      index = \"1\";\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = title;\r\n  });\r\n\r\n  return <Header tabIndex={index} handleSearch={handleSearch} />;\r\n};\r\nexport default compose(\r\n  connect(\r\n    store => ({\r\n      tabIndex: store.cart.tabIndex\r\n    }),\r\n    {\r\n      searchProducts\r\n    }\r\n  ),\r\n  withRouter,\r\n  withHandlers({\r\n    handleSearch: ({ searchProducts, history }) => value => {\r\n      const herf = history.location.pathname;\r\n      if (herf !== \"/cart\" && herf !== \"/order\") {\r\n        searchProducts(value); // 修复搜索，显示商品与添加到购物车的商品不同\r\n        // notification.error({\r\n        //   message: \"搜索结果错误！\",\r\n        //   description: \"遇到一个与逻辑不符的错误导致搜索失败！\",\r\n        //   duration: 1\r\n        // })\r\n      } else {\r\n        notification.warn({\r\n          message: \"警告！\",\r\n          description: \"请在商品页进行搜索\",\r\n          duration: 1\r\n        });\r\n      }\r\n    }\r\n  })\r\n)(LinkHeader);\r\n","import React from \"react\";\r\nimport { compose, withState, withHandlers } from \"recompose\";\r\nimport { Card, InputNumber, Button, message } from \"antd\";\r\n\r\nconst { Meta } = Card;\r\n\r\nconst ProductWrap = ({ product, handleCartClick, index, count, ...props }) => {\r\n  return (\r\n    <Card\r\n      hoverable\r\n      className={props.className}\r\n      cover={<img alt=\"example\" src={product.image} />}\r\n      actions={[\r\n        <InputNumber\r\n          min={1}\r\n          defaultValue={1}\r\n          style={{ width: \"50px\" }}\r\n          onChange={props.changeCount}\r\n        />,\r\n        <Button\r\n          type=\"primary\"\r\n          shape=\"circle\"\r\n          icon=\"shopping-cart\"\r\n          onClick={handleCartClick}\r\n        ></Button>\r\n      ]}\r\n    >\r\n      <Meta title={product.name} description={\"单价：\" + product.price} />\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default compose(\r\n  withState(\"count\", \"changeCount\", 1),\r\n  withHandlers({\r\n    handleCartClick: props => () => {\r\n      const { index, count, onClick, product } = props;\r\n      onClick(index, count);\r\n      message.success(`${count}件商品『${product.name}』已成功加入购物车!`, 1);\r\n    }\r\n  })\r\n)(ProductWrap);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Row, Col } from \"antd\";\r\n\r\nimport ProductWrap from \"./productWrap\";\r\nimport { addProduct } from \"../../store/cartStore\";\r\n\r\nimport \"../../assets/styles/product.css\";\r\n\r\nconst Products = ({ newProducts, addProduct }) => {\r\n  return (\r\n    <div className=\"products-wrap\">\r\n      <Row>\r\n        {newProducts.map((product, index) => (\r\n          <Col key={product.id} xs={24} sm={12} md={6} lg={4}>\r\n            <ProductWrap\r\n              className=\"product-item\"\r\n              onClick={addProduct}\r\n              product={product}\r\n              index={product.index}\r\n            />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  store => ({\r\n    products: store.cart.products,\r\n    searchProducts: store.cart.searchProducts\r\n  }),\r\n  {\r\n    addProduct\r\n  },\r\n  ({ products, searchProducts }, { addProduct }, ...self) => {\r\n    const newProducts = searchProducts.length > 0 ? searchProducts : products;\r\n    return {\r\n      newProducts: newProducts,\r\n      addProduct,\r\n      ...self\r\n    };\r\n  }\r\n)(Products);\r\n","import React from \"react\";\r\n\r\nconst Title = props => {\r\n  return (\r\n    <h2\r\n      style={{\r\n        width: \"90%\",\r\n        color: \"#e4b653\",\r\n        borderBottom: \"1px solid #e4b653\",\r\n        fontSize: \"30px\",\r\n        margin: \"25px auto\",\r\n        paddingBottom: \"10px\",\r\n        textAlign: \"center\"\r\n      }}\r\n    >\r\n      {props.children}\r\n    </h2>\r\n  );\r\n};\r\n\r\nexport default Title;\r\n","import React from \"react\";\r\n\r\n// import Carousel from '../../components/carousel'\r\nimport Products from \"../../components/product\";\r\nimport Title from \"../../components/title\";\r\n\r\nconst Commodity = () => {\r\n  return (\r\n    <>\r\n      {/* <Carousel /> */}\r\n      <Title>商品列表</Title>\r\n      <Products />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Commodity;\r\n","import React from \"react\";\r\n\r\nconst TableHeader = ({ order }) => {\r\n  return (\r\n    <div className=\"table-header\">\r\n      <h5>订单编号：{order.id}</h5>\r\n      <p>生成时间：{order.date}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableHeader;\r\n","import React from \"react\";\r\n\r\nconst TableFooter = ({ order }) => (\r\n  <div className=\"table-footer\">\r\n    <p>\r\n      合计：<span>￥ {order.count}</span>\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default TableFooter;\r\n","import React from \"react\";\r\nimport { Table } from \"antd\";\r\nimport TableHeader from \"./tableHeader\";\r\nimport TableFooter from \"./tableFooter\";\r\n\r\n// const src = \"//img.alicdn.com/imgextra/i1/3190804037/TB2GgUvh4tmpuFjSZFqXXbHFpXa_!!3190804037.jpg_80x80.jpg\"\r\nconst columns = [\r\n  {\r\n    title: \"商品\",\r\n    dataIndex: \"product\",\r\n    align: \"center\",\r\n    width: \"30%\",\r\n    render: product => (\r\n      <div className=\"image-wrap\">\r\n        <img src={product.image} alt=\"\" />\r\n        <div className=\"product-name\">\r\n          <span>{product.name}</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  },\r\n  {\r\n    title: \"介绍\",\r\n    dataIndex: \"desc\",\r\n    align: \"center\",\r\n    render: desc => <span dangerouslySetInnerHTML={{ __html: desc }}></span>\r\n  },\r\n  {\r\n    title: \"单价\",\r\n    dataIndex: \"price\",\r\n    align: \"center\"\r\n  },\r\n  {\r\n    title: \"数量\",\r\n    dataIndex: \"amount\",\r\n    align: \"center\"\r\n  },\r\n  {\r\n    title: \"总价\",\r\n    dataIndex: \"allCount\",\r\n    align: \"center\"\r\n  }\r\n];\r\n\r\nconst OrderList = ({ order }) => {\r\n  return (\r\n    <Table\r\n      className={\"order-table\"}\r\n      columns={columns}\r\n      dataSource={order.productsList}\r\n      bordereds\r\n      pagination={{ hideOnSinglePage: true }}\r\n      title={() => <TableHeader order={order} />}\r\n      footer={() => <TableFooter order={order} />}\r\n    />\r\n  );\r\n};\r\n\r\nexport default OrderList;\r\n","import React from \"react\";\r\nimport { Empty } from \"antd\";\r\nimport OrderTable from \"./orderTable\";\r\n\r\nconst OrderList = ({ orderList }) => {\r\n  return orderList.length > 0 ? (\r\n    orderList.map((order, index) => <OrderTable key={index} order={order} />)\r\n  ) : (\r\n    <Empty description=\"暂时没有历史订单，赶快去选购吧！\" />\r\n  );\r\n};\r\nexport default OrderList;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport OrderList from \"../../components/orderList\";\r\nimport Title from \"../../components/title\";\r\n\r\nimport \"../../assets/styles/order.css\";\r\n\r\nconst Order = ({ orderList, products }) => {\r\n  return (\r\n    <>\r\n      <Title>订单列表</Title>\r\n      <OrderList orderList={orderList} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(store => ({\r\n  orderList: store.cart.historyOrder\r\n}))(Order);\r\n","import React from \"react\";\r\nimport {\r\n  Table,\r\n  InputNumber,\r\n  Button,\r\n  Typography,\r\n  notification,\r\n  Icon,\r\n  message,\r\n  Spin,\r\n  Popconfirm\r\n} from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { compose, withHandlers, withState } from \"recompose\";\r\n\r\nimport {\r\n  countChange,\r\n  deleteProduct,\r\n  selectProduct,\r\n  settleAccounts\r\n} from \"../../store/cartStore\";\r\n\r\n// 表的头部\r\nconst columns = [\r\n  {\r\n    title: \"商品名称\",\r\n    dataIndex: \"image\",\r\n    render: src => <img src={src} className=\"product-image\" alt=\"\" />\r\n  },\r\n  {\r\n    title: \"商品描述\",\r\n    dataIndex: \"desc\",\r\n    render: desc => <span dangerouslySetInnerHTML={{ __html: desc }}></span>\r\n  },\r\n  {\r\n    title: \"单价\",\r\n    dataIndex: \"price\"\r\n  },\r\n  {\r\n    title: \"购买数量\",\r\n    dataIndex: \"number\",\r\n    render: count => <NumberInput count={count} />\r\n  },\r\n  {\r\n    title: \"总价\",\r\n    dataIndex: \"count\"\r\n  },\r\n  {\r\n    title: \"\",\r\n    dataIndex: \"delete\",\r\n    render: cartIndex => <DeleteButton cartIndex={cartIndex} /> //这里的index为cartIndex\r\n  }\r\n];\r\nconst { Title, Text } = Typography;\r\n\r\n// 表格输入框\r\nconst NumberInputTemp = ({ count, handleCountChange }) => {\r\n  return (\r\n    <InputNumber\r\n      min={1}\r\n      defaultValue={count.num}\r\n      onChange={handleCountChange}\r\n    />\r\n  );\r\n};\r\nconst NumberInput = compose(\r\n  connect(\r\n    state => ({}),\r\n    { countChange }\r\n  ),\r\n  withHandlers({\r\n    handleCountChange: ({ count, countChange }) => value => {\r\n      countChange(count.index, value);\r\n    }\r\n  })\r\n)(NumberInputTemp);\r\n\r\n// 表格删除按钮\r\nconst DeleteButtonTemp = ({ handleDelete }) => {\r\n  return (\r\n    <Popconfirm\r\n      title=\"你确定要移除该商品吗?\"\r\n      okText=\"确定\"\r\n      cancelText=\"取消\"\r\n      onConfirm={handleDelete}\r\n    >\r\n      <Button type=\"link\">删除</Button>\r\n    </Popconfirm>\r\n  );\r\n};\r\nconst DeleteButton = compose(\r\n  connect(\r\n    () => ({}),\r\n    {\r\n      deleteProduct\r\n    }\r\n  ),\r\n  withHandlers({\r\n    handleDelete: ({ deleteProduct, cartIndex }) => () => {\r\n      deleteProduct(cartIndex);\r\n    }\r\n  })\r\n)(DeleteButtonTemp);\r\n\r\n// 购物车总页面\r\nconst CartProduct = ({\r\n  cartProducts = [],\r\n  allCount = 0,\r\n  rowSelection = {},\r\n  handleSettleClick,\r\n  isSettle,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <Spin wrapperClassName=\"cart\" spinning={isSettle} tip=\"正在处理，请稍后...\">\r\n      <Table\r\n        rowSelection={rowSelection}\r\n        columns={columns}\r\n        dataSource={cartProducts}\r\n        locale={{ emptyText: \"购物车是空的，快去选购吧！\" }}\r\n      />\r\n      <div className=\"settle\">\r\n        <Title level={4} className=\"all-count\">\r\n          总价：\r\n          <Text type=\"warning\" className=\"money\">\r\n            {allCount}\r\n          </Text>{\" \"}\r\n          元\r\n        </Title>\r\n        <Button\r\n          type=\"primary\"\r\n          loading={isSettle}\r\n          shape=\"round\"\r\n          icon=\"shop\"\r\n          className=\"settle-btn\"\r\n          onClick={handleSettleClick}\r\n        >\r\n          结算\r\n        </Button>\r\n      </div>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nexport default compose(\r\n  connect(\r\n    // map State\r\n    store => {\r\n      return {\r\n        cartProducts: store.cart.cartProducts,\r\n        products: store.cart.products,\r\n        selectedProducts: store.cart.selectedProducts\r\n      };\r\n    },\r\n    {\r\n      selectProduct,\r\n      settleAccounts\r\n    },\r\n    // map props\r\n    (\r\n      { cartProducts, products, selectedProducts },\r\n      { selectProduct, settleAccounts }\r\n    ) => {\r\n      // 根据购物车索引得到物品具体内容\r\n      cartProducts = cartProducts.map(({ id, index, count }, cartIndex) => {\r\n        return {\r\n          // key: id, 这里不用id是为了后面号取索引(用于默认选中项)\r\n          key: cartIndex,\r\n          image: products[index].image,\r\n          desc: products[index].desc,\r\n          price: products[index].price,\r\n          number: { id: id, index: cartIndex, num: count },\r\n          count: products[index].price * count,\r\n          delete: cartIndex\r\n        };\r\n      });\r\n      // 表格勾选函数\r\n      const rowSelection = {\r\n        hideDefaultSelections: true,\r\n        selectedRowKeys: [...selectedProducts], // 此处设置默认选择项\r\n        onChange: (selectedRowKeys, selectedRows) => {\r\n          const selectArr = selectedRows.map(item => {\r\n            return item.delete;\r\n          });\r\n          selectProduct(selectArr);\r\n        }\r\n      };\r\n      // 计算勾选商品的价格\r\n      let allCount = 0;\r\n      selectedProducts.forEach(index => {\r\n        allCount += cartProducts[index].count;\r\n      });\r\n      return {\r\n        cartProducts,\r\n        rowSelection,\r\n        selectedProducts,\r\n        selectProduct,\r\n        allCount,\r\n        settleAccounts\r\n      };\r\n    }\r\n  ),\r\n  withRouter,\r\n  withState(\"isSettle\", \"setIsSettle\", false),\r\n  withHandlers({\r\n    handleSettleClick: ({\r\n      allCount,\r\n      settleAccounts,\r\n      history,\r\n      setIsSettle\r\n    }) => () => {\r\n      // 判断价格\r\n      if (allCount > 0) {\r\n        // 如果价格不为0 结算\r\n        settleAccounts(allCount);\r\n        setIsSettle(true);\r\n        notification.open({\r\n          message: \"结算成功\",\r\n          duration: 1.5,\r\n          description: `感谢您光临小店，您一共消费${allCount}元，即将为您跳转订单页面。。。`,\r\n          icon: <Icon type=\"smile\" style={{ color: \"#108ee9\" }} />,\r\n          onClose: () => {\r\n            history.push(\"/order\");\r\n          }\r\n        });\r\n      } else {\r\n        // 其他情况不结算\r\n        message.error(\"结算失败！请选择需要购买的商品。\", 1);\r\n      }\r\n    }\r\n  })\r\n)(CartProduct);\r\n","import React from \"react\";\r\nimport Title from \"../../components/title\";\r\nimport CartProduct from \"../../components/cartProduct\";\r\nimport \"../../assets/styles/shoppingCart.css\";\r\n\r\nconst ShoppingCart = () => {\r\n  return (\r\n    <>\r\n      <Title>购物车</Title>\r\n      <CartProduct />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShoppingCart;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport { Layout } from \"antd\";\r\n\r\nimport Header from \"./components/header\";\r\nimport Commodity from \"./views/commodity\";\r\nimport Order from \"./views/order\";\r\nimport ShoppingCart from \"./views/shoppingCart\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Layout>\r\n      <BrowserRouter>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/cart\" component={ShoppingCart} />\r\n          <Route path=\"/order\" component={Order} />\r\n          <Route path=\"/\" component={Commodity} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { applyMiddleware, createStore, combineReducers } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport cartStore from \"./cartStore\";\r\n\r\nconst reducers = combineReducers({\r\n  cart: cartStore\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport store from \"./store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}